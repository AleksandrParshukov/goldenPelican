{"version":3,"file":"script.min.js","sources":["script.js"],"sourcesContent":["function init_mobile_menu() {\r\n  const $toggle = $('.js_menu_toggle'),\r\n    $header__mobile = $('.header__mobile');\r\n\r\n  $toggle.on('click', function (evt) {\r\n    evt.preventDefault();\r\n\r\n    $header__mobile.toggleClass('open');\r\n    $('body').toggleClass('modal_open');\r\n  });\r\n}\r\n\r\nfunction init_sliders() {\r\n  const $slider_nav = $('.slider_nav');\r\n\r\n  $('.helped__list, .other_news__list').owlCarousel({\r\n\t\tloop: false,\r\n\t\tdots: false,\r\n\t\tautoWidth: true,\r\n\t\tresponsive: {\r\n\t\t\t0: {\r\n\t\t\t\titems: 1,\r\n\t\t\t},\r\n\t\t\t576: {\r\n\t\t\t\titems: 4,\r\n\t\t\t},\r\n\t\t},\r\n\t});\r\n\r\n  $('.projects_page__slider').owlCarousel({\r\n    loop: false,\r\n    dots: false,\r\n    items: 1,\r\n  });\r\n\r\n  $('.project_page__slider').owlCarousel({\r\n    loop: false,\r\n    items: 1,\r\n    responsive: {\r\n      0: {\r\n        dots: true,\r\n      },\r\n      576: {\r\n        dots: false,\r\n      },\r\n    },\r\n  });\r\n\r\n  if (window.innerWidth <= 576) {\r\n    $('.projects__list, .news__gallery_list').owlCarousel({\r\n      loop: false,\r\n      dots: false,\r\n      items: 1,\r\n      autoWidth: true,\r\n    });\r\n  }\r\n\r\n  $.each($slider_nav, function () {\r\n    const $nav_item = $(this);\r\n    move_slider($nav_item);\r\n  });\r\n\r\n  function move_slider($nav_item) {\r\n    const $slider_container = $nav_item.closest('.js_slider_container'),\r\n      $slider = $slider_container.find('.owl-carousel');\r\n\r\n    $nav_item.on('click', function (evt) {\r\n      evt.preventDefault();\r\n\r\n      if ($nav_item.hasClass('slider_nav--next')) {\r\n        $slider.trigger('next.owl.carousel');\r\n      } else {\r\n        $slider.trigger('prev.owl.carousel');\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction init_custom_select() {\r\n  const $selects = $('.select');\r\n\r\n  $.each($selects, function () {\r\n    const $select = $(this),\r\n      $select_current = $select.find('.select__current'),\r\n      $select_body = $select.find('.select__body'),\r\n      $select_options = $select_body.find('.select__option');\r\n\r\n    let height = 0;\r\n\r\n    $.each($select_options, function () {\r\n      const $item = $(this);\r\n\r\n      height += $item.outerHeight(true);\r\n\r\n      $item.on('click', function (evt) {\r\n        evt.preventDefault();\r\n\r\n        $select_current.html($item.html());\r\n\r\n        $select_body.height(0);\r\n        $select_body.removeClass('open');\r\n      });\r\n    });\r\n\r\n    $select_current.on('click', function (evt) {\r\n      evt.preventDefault();\r\n\r\n      if ($select_body.hasClass('open')) {\r\n        $select_body.height(0);\r\n        $select_body.removeClass('open');\r\n      } else {\r\n        $select_body.height(height);\r\n        $select_body.addClass('open');\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nfunction init_popup() {\r\n\tconst $modal_open = $('.js_modal_open'),\r\n\t\t$modal = $('.modal'),\r\n\t\t$modal_overflow = $modal.find('.modal__overflow'),\r\n\t\t$modal_close = $modal.find('.modal__close');\r\n\r\n\t$modal_open.on('click', function (evt) {\r\n\t\tevt.preventDefault();\r\n\t\topen_modal();\r\n\t});\r\n\r\n\t$modal_close.on('click', function (evt) {\r\n\t\tevt.preventDefault();\r\n\t\tclose_modal();\r\n\t});\r\n\r\n\tfunction open_modal() {\r\n\t\t$modal.addClass('open');\r\n\t\tconst scrollY = document.documentElement.style.getPropertyValue('--scroll-y');\r\n\t\tconst body = document.body;\r\n\t\tbody.style.position = 'fixed';\r\n\t\tbody.style.top = `-${scrollY}`;\r\n\t\tbody.style.left = '0';\r\n\t\tbody.style.right = '0';\r\n\t}\r\n\r\n\tfunction close_modal() {\r\n\t\t$modal.removeClass('open');\r\n\r\n\t\tconst body = document.body;\r\n\t\tconst scrollY = body.style.top;\r\n\t\tbody.style.position = '';\r\n\t\tbody.style.top = '';\r\n\t\twindow.scrollTo(0, parseInt(scrollY || '0') * -1, 'auto');\r\n\t}\r\n\r\n\twindow.addEventListener('scroll', () => {\r\n\t\tdocument.documentElement.style.setProperty('--scroll-y', `${window.scrollY}px`);\r\n\t});\r\n}\r\n\r\nfunction init_progress_bar() {\r\n\tconst $progress_bar = $('.hall_of_fame__progress');\r\n\r\n\tif (!$progress_bar.length) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst current_sum = $progress_bar.data('current'),\r\n\t\tgoal = $progress_bar.data('goal'),\r\n\t\tprogress = current_sum < goal ? current_sum / goal : 1;\r\n\r\n\t$progress_bar.find('#fill_circle').attr('stroke-dasharray', `${progress * 251.2}, 251.2`);\r\n}\r\n\r\nfunction init_list_loader() {\r\n\tconst $load_btns = $('.load_btn');\r\n\r\n\t$.each($load_btns, function () {\r\n\t\tconst $load_btn = $(this),\r\n\t\t\t$list = $(`#${$load_btn.data('for')}`),\r\n\t\t\titems_to_show = $list.data('items_to_show');\r\n\r\n\t\t$list.height(get_visible_height());\r\n\r\n\t\t$load_btn.on('click', function (evt) {\r\n\t\t\tevt.preventDefault();\r\n\r\n\t\t\tconst $hidden_items = $list.children(':not(.mobile_visible)');\r\n\t\t\tfor (let i = 0; i < items_to_show; i++) {\r\n\t\t\t\t$($hidden_items[i]).addClass('mobile_visible');\r\n\t\t\t}\r\n\r\n\t\t\tif ($hidden_items.length < items_to_show) {\r\n\t\t\t\t$load_btn.slideUp(500, function () {\r\n\t\t\t\t\t$load_btn.remove();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t$list.height(get_visible_height());\r\n\t\t});\r\n\r\n\t\tfunction get_visible_height() {\r\n\t\t\tconst $visible_items = $list.children('.mobile_visible');\r\n\t\t\tlet height = 0;\r\n\r\n\t\t\t$.each($visible_items, function () {\r\n\t\t\t\tconst $item = $(this);\r\n\r\n\t\t\t\theight += $item.outerHeight(true);\r\n\t\t\t\tconsole.log(`cur: ${$item.outerHeight(true)}`);\r\n\t\t\t\tconsole.log(`tot: ${height}`);\r\n\t\t\t});\r\n\r\n\t\t\treturn height;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n$(document).ready(function () {\r\n\tinit_sliders();\r\n\tinit_custom_select();\r\n\tinit_popup();\r\n\tinit_progress_bar();\r\n\r\n\tif (window.innerWidth <= 576) {\r\n\t\tinit_mobile_menu();\r\n\t\tinit_list_loader();\r\n\t}\r\n});\r\n"],"names":["init_mobile_menu","$toggle","$","$header__mobile","on","evt","preventDefault","toggleClass","init_sliders","$slider_nav","owlCarousel","loop","dots","autoWidth","responsive","0","items","576","window","innerWidth","each","$nav_item","$slider_container","closest","$slider","find","hasClass","trigger","move_slider","this","init_custom_select","$selects","$select","$select_current","$select_body","$select_options","let","height","$item","outerHeight","html","removeClass","addClass","init_popup","$modal_open","$modal","$modal_close","scrollY","document","documentElement","style","getPropertyValue","body","position","top","left","right","open_modal","scrollTo","parseInt","close_modal","addEventListener","setProperty","init_progress_bar","$progress_bar","length","current_sum","data","goal","progress","attr","init_list_loader","$load_btns","$load_btn","$list","items_to_show","get_visible_height","$visible_items","children","console","log","$hidden_items","i","slideUp","remove","ready"],"mappings":"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"}